{
  "@context": {
    "shacl": "http://www.w3.org/ns/shacl#",
    "fnml": "http://semweb.mmlab.be/ns/fnml#",
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "label": "rdfs:label",
    "rdfs:subClassOf": { "@type": "@id" },
    "rdfs:range": { "@type": "@id" },
    "rdfs:domain": { "@type": "@id" },
    "boolean": "http://www.w3.org/2001/XMLSchema#boolean",
    "integer": "http://www.w3.org/2001/XMLSchema#integer",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "rr": "http://www.w3.org/ns/r2rml#",
    "rml": "http://semweb.mmlab.be/ns/rml#",
    "owl": "http://www.w3.org/2002/07/owl#",
    "skos": "http://www.w3.org/2004/02/skos/core#",
    "dcterms": "http://purl.org/dc/elements/1.1/",
    "description": "dcterms:description",
    "shacl:class": { "@type": "@id" },
    "shacl:datatype": { "@type": "@id" },
    "shacl:maxCount": { "@type": "xsd:integer" },
    "shacl:minCount": { "@type": "xsd:integer" },
    "shacl:targetClass": { "@type": "@id" },
    "shacl:path": { "@type": "@id" },
    "skl": "https://skl.so/",
    "skl:integratedProduct": { "@type": "@id" },
    "skl:account": { "@type": "@id" },
    "skl:openApiDescription": { "@type": "@json" },
    "skl:inputsContext": { "@type": "@json" },
    "skl:outputsContext": { "@type": "@json" },
    "skl:noun": { "@type": "@id" },
    "skl:inputsMapping": { "@type": "@id" },
    "skl:inputsMappingFrame": { "@type": "@json" },
    "skl:outputsMapping": { "@type": "@id" },
    "skl:outputsMappingFrame": { "@type": "@json" },
    "skl:operationMapping": { "@type": "@id" },
    "skl:capabilityMapping": { "@type": "@id" },
    "skl:capabilityId": { "@type": "@id" },
    "skl:preProcessingMapping": { "@type": "@id" },
    "skl:preProcessingMappingFrame": { "@type": "@json" },
    "skl:series": { "@container": "@list" },
    "integratedProduct": { "@id": "skl:integratedProduct", "@type": "@id" },
    "capability": { "@id": "skl:capability", "@type": "@id" },
    "rml:referenceFormulation": { "@type": "@id" },
    "rr:parentTriplesMap": { "@type": "@id" },
    "rr:predicate": { "@type": "@id" },
    "rr:object": { "@type": "@id" },
    "rr:termType": { "@type": "@id" },
    "rr:datatype": { "@type": "@id" },
    "rr:subject": { "@type": "@id" },
    "example": "https://example.com/",
    "skl:verbId": "skl:capabilityId"
  },
  "@graph": [
    {
      "@id": "https://example.com/parseAndSaveLinksFromEntity",
      "@type": "https://skl.so/Capability",
      "label": "parseAndSaveLinksFromEntity",
      "skl:inputsContext": {
        "entity": {
          "@id": "https://example.com/entity",
          "@type": "@id"
        }
      },
      "skl:inputs": {
        "@type": "shacl:NodeShape",
        "shacl:targetClass": "skl:Inputs",
        "shacl:property": [
          {
            "shacl:maxCount": 1,
            "shacl:minCount": 1,
            "shacl:path": "https://example.com/entity",
            "shacl:name": "entity",
            "shacl:nodeKind": { "@id": "shacl:IRI" }
          }
        ]
      }
    },
    {
      "@id": "https://example.com/parseAndSaveLinksFromEntityMapping",
      "@type": "https://skl.so/CompositeMapping",
      "capability": "https://example.com/parseAndSaveLinksFromEntity",
      "skl:series": [
        {
          "skl:preProcessingMapping": {
            "@type": "rr:TriplesMap",
            "rml:logicalSource": {
              "@type": "rml:LogicalSource",
              "rml:iterator": "$",
              "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
              "rml:source": "input.json"
            },
            "rr:subjectMap": {
              "@type": "rr:SubjectMap",
              "rr:termType": "rr:BlankNode"
            },
            "rr:predicateObjectMap": [
              {
                "@type": "rr:PredicateObjectMap",
                "rr:objectMap": {
                  "@type": "rr:ObjectMap",
                  "rr:datatype": "http://www.w3.org/2001/XMLSchema#string",
                  "rml:reference": "originalVerbParameters.entity[`@type]"
                },
                "rr:predicate": "example:noun"
              }
            ]
          },
          "skl:preProcessingMappingFrame": {
            "@context": {
              "noun": {
                "@id": "https://example.com/noun",
                "@type": "http://www.w3.org/2001/XMLSchema#string"
              }
            }
          },
          "skl:inputsMapping": {
            "@type": "rr:TriplesMap",
            "rml:logicalSource": {
              "@type": "rml:LogicalSource",
              "rml:iterator": "$",
              "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
              "rml:source": "input.json"
            },
            "rr:subject": "https://example.com/mappingSubject",
            "rr:predicateObjectMap": [
              {
                "@type": "rr:PredicateObjectMap",
                "rr:objectMap": {
                  "@type": "rr:ObjectMap",
                  "rr:datatype": "http://www.w3.org/2001/XMLSchema#string",
                  "rml:reference": "preProcessedParameters.noun"
                },
                "rr:predicate": "example:noun"
              },
              {
                "@type": "rr:PredicateObjectMap",
                "rr:objectMap": {
                  "@type": "rr:ObjectMap",
                  "rml:reference": "originalVerbParameters.entity"
                },
                "rr:predicate": "example:entity"
              }
            ]
          },
          "skl:inputsMappingFrame": {
            "@context": {
              "noun": {
                "@id": "https://example.com/noun",
                "@type": "http://www.w3.org/2001/XMLSchema#string"
              },
              "entity": {
                "@id": "https://example.com/entity",
                "@type": "@id"
              }
            },
            "@id": "https://example.com/mappingSubject"
          },
          "skl:capabilityMapping": {
            "@type": "rr:TriplesMap",
            "rml:logicalSource": {
              "@type": "rml:LogicalSource",
              "rml:iterator": "$",
              "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
              "rml:source": "input.json"
            },
            "rr:predicateObjectMap": [
              {
                "@type": "rr:PredicateObjectMap",
                "rr:object": "https://example.com/getLinkParsableText",
                "rr:predicate": "skl:capabilityId"
              }
            ],
            "rr:subjectMap": {
              "@type": "rr:SubjectMap",
              "rr:termType": "rr:BlankNode"
            }
          },
          "skl:outputsMapping": {
            "@type": "rr:TriplesMap",
            "rml:logicalSource": {
              "@type": "rml:LogicalSource",
              "rml:iterator": "$",
              "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
              "rml:source": "input.json"
            },
            "rr:predicateObjectMap": [
              {
                "@type": "rr:PredicateObjectMap",
                "rr:predicate": "example:links",
                "rr:objectMap": {
                  "@type": "rr:ObjectMap",
                  "rr:datatype": "xsd:string",
                  "fnml:functionValue": {
                    "@type": "fnml:FunctionValue",
                    "rr:predicateObjectMap": [
                      {
                        "@type": "rr:PredicateObjectMap",
                        "rr:object": "https://example.com/functions/parseLinksFromText",
                        "rr:predicate": "https://w3id.org/function/ontology#executes"
                      },
                      {
                        "@type": "rr:PredicateObjectMap",
                        "rr:predicate": "https://example.com/functions/text",
                        "rr:objectMap": {
                          "@type": "rr:ObjectMap",
                          "rml:reference": "text"
                        }
                      }
                    ]
                  }
                }
              }
            ],
            "rr:subjectMap": {
              "@type": "rr:SubjectMap",
              "rr:termType": "rr:BlankNode"
            }
          },
          "skl:outputsMappingFrame": {
            "@context": {
              "links": {
                "@id": "https://example.com/links",
                "@type": "http://www.w3.org/2001/XMLSchema#string",
                "@container": "@set"
              }
            }
          }
        },
        {
          "skl:inputsMapping": {
            "@type": "rr:TriplesMap",
            "rml:logicalSource": {
              "@type": "rml:LogicalSource",
              "rml:iterator": "$",
              "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
              "rml:source": "input.json"
            },
            "rr:predicateObjectMap": [
              {
                "@type": "rr:PredicateObjectMap",
                "rr:predicate": "example:id",
                "rr:objectMap": {
                  "@type": "rr:ObjectMap",
                  "rr:datatype": "xsd:string",
                  "rml:reference": "originalVerbParameters.entity[`@id]"
                }
              },
              {
                "@type": "rr:PredicateObjectMap",
                "rr:predicate": "example:attributes",
                "rr:objectMap": {
                  "@type": "rr:ObjectMap",
                  "rr:parentTriplesMap": {
                    "@type": "rr:TriplesMap",
                    "rml:logicalSource": {
                      "@type": "rml:LogicalSource",
                      "rml:iterator": "$",
                      "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
                      "rml:source": "input.json"
                    },
                    "rr:predicateObjectMap": [
                      {
                        "@type": "rr:PredicateObjectMap",
                        "rr:objectMap": {
                          "@type": "rr:ObjectMap",
                          "rr:datatype": "xsd:string",
                          "rml:reference": "previousVerbReturnValue.links[*]"           
                        },
                        "rr:predicate": "example:links"
                      }
                    ],
                    "rr:subjectMap": {
                      "@type": "rr:SubjectMap",
                      "rr:termType": "rr:BlankNode"
                    }
                  }
                }
              }
            ],
            "rr:subject": "https://example.com/mappingSubject"
          },
          "skl:inputsMappingFrame": {
            "@context": {
              "id": {
                "@id": "https://example.com/id",
                "@type": "http://www.w3.org/2001/XMLSchema#string"
              },
              "attributes": {
                "@type": "@id",
                "@id": "https://example.com/attributes"
              }
            },
            "@id": "https://example.com/mappingSubject"
          },
          "skl:capabilityMapping": {
            "@type": "rr:TriplesMap",
            "rml:logicalSource": {
              "@type": "rml:LogicalSource",
              "rml:iterator": "$",
              "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
              "rml:source": "input.json"
            },
            "rr:predicateObjectMap": [
              {
                "@type": "rr:PredicateObjectMap",
                "rr:predicate": "skl:capabilityId",
                "rr:objectMap": {
                  "@type": "rr:ObjectMap",
                  "rr:constant": "https://standardknowledge.com/ontologies/skl-engine/update"
                }
              }
            ],
            "rr:subjectMap": {
              "@type": "rr:SubjectMap",
              "rr:termType": "rr:BlankNode"
            }
          }
        }
      ]
    },
    {
      "@id": "https://example.com/getLinkParsableText",
      "@type": "https://skl.so/Capability",
      "label": "getLinkParsableText",
      "skl:inputsContext": {
        "entity": {
          "@id": "https://example.com/entity",
          "@type": "@id"
        },
        "noun": {
          "@id": "https://example.com/noun",
          "@type": "http://www.w3.org/2001/XMLSchema#string"
        }
      },
      "skl:inputs": {
        "@type": "shacl:NodeShape",
        "shacl:targetClass": "skl:Inputs",
        "shacl:property": [
          {
            "shacl:maxCount": 1,
            "shacl:minCount": 1,
            "shacl:path": "https://example.com/entity",
            "shacl:name": "entity",
            "shacl:nodeKind": { "@id": "shacl:IRI" }
          },
          {
            "shacl:maxCount": 1,
            "shacl:minCount": 1,
            "shacl:path": "https://example.com/noun",
            "shacl:name": "noun"
          }
        ]
      },
      "skl:outputs": {
        "@type": "shacl:NodeShape",
        "shacl:closed": false,
        "shacl:property": [
          {
            "shacl:maxCount": 1,
            "shacl:minCount": 1,
            "shacl:name": "text",
            "shacl:path": "https://example.com/text"
          }
        ]
      }
    },
    {
      "@id": "https://example.com/data/34",
      "@type": "https://skl.so/CapabilityNounMapping",
      "capability": "https://example.com/getLinkParsableText",
      "skl:noun": "https://schema.org/BlogPosting",
      "label": "getLinkParsableTextToBlogPosting",
      "skl:outputsMapping": {
        "@type": "rr:TriplesMap",
        "rml:logicalSource": {
          "@type": "rml:LogicalSource",
          "rml:iterator": "$",
          "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
          "rml:source": "input.json"
        },
        "rr:predicateObjectMap": [
          {
            "@type": "rr:PredicateObjectMap",
            "rr:predicate": "example:text",
            "rr:objectMap": {
              "@type": "rr:ObjectMap",
              "rr:datatype": "xsd:string",
              "rml:reference": "entity['https://schema.org/articleBody'][`@value]"
            }
          }
        ],
        "rr:subjectMap": {
          "@type": "rr:SubjectMap",
          "rr:termType": "rr:BlankNode"
        }
      },
      "skl:outputsMappingFrame": {
        "@context": {
          "text": {
            "@id": "https://example.com/text",
            "@type": "http://www.w3.org/2001/XMLSchema#string"
          }
        }
      }
    },
    {
      "@id": "https://example.com/data/1234",
      "@type": "https://skl.so/SeriesVerbWithPreProcessing",
      "label": "Series Verb with Pre-Processing",
      "skl:integratedProduct": "https://example.com/integrations/Dropbox",
      "skl:inputsMapping": {
        "@type": "rr:TriplesMap",
        "rml:logicalSource": {
          "@type": "rml:LogicalSource",
          "rml:iterator": "$",
          "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
          "rml:source": "input.json"
        },
        "rr:subject": "https://example.com/mappingSubject",
        "rr:predicateObjectMap": [
          {
            "@type": "rr:PredicateObjectMap",
            "rr:object": "https://example.com/getRootCursor",
            "rr:predicate": "skl:capabilityId"
          }
        ]
      },
      "skl:inputsMappingFrame": {
        "@context": {
          "id": {
            "@id": "https://example.com/id",
            "@type": "http://www.w3.org/2001/XMLSchema#string"
          },
          "attributes": {
            "@type": "@id",
            "@id": "https://example.com/attributes"
          }
        },
        "@id": "https://example.com/mappingSubject"
      },
      "skl:capabilityMapping": {
        "@type": "rr:TriplesMap",
        "rml:logicalSource": {
          "@type": "rml:LogicalSource",
          "rml:iterator": "$",
          "rml:referenceFormulation": "http://semweb.mmlab.be/ns/ql#JSONPath",
          "rml:source": "input.json"
        },
        "rr:predicateObjectMap": [
          {
            "@type": "rr:PredicateObjectMap",
            "rr:object": "https://example.com/getRootCursor",
            "rr:predicate": "skl:capabilityId"
          }
        ],
        "rr:subjectMap": {
          "@type": "rr:SubjectMap",
          "rr:termType": "rr:BlankNode"
        }
      }
    }
  ]
}